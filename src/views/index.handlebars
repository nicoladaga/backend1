<h1>Productos</h1>
<section class="d-flex flex-wrap justify-content-evenly">
    {{#each products}}
    <div class="card my-2" style="width: 18rem;">
        {{#if this.thumbnails}}
            <div id="carousel-{{this._id}}" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    {{#each this.thumbnails}}
                    <div class="carousel-item {{#if @first}}active{{/if}}">
                        <img src="{{this}}" class="d-block w-100" alt="Imagen de producto {{../this._id}}" style="height: 18rem; object-fit: cover">
                    </div>
                    {{/each}}
                </div>
                <!-- Solo mostrar los botones si hay más de 1 imagen -->
                {{#if this.thumbnails.length}}
                {{#if (gt this.thumbnails.length 1)}}
                <!-- Botón anterior -->
                <button class="carousel-control-prev" type="button" data-bs-target="#carousel-{{this._id}}" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Anterior</span>
                </button>
                <!-- Botón siguiente -->
                <button class="carousel-control-next" type="button" data-bs-target="#carousel-{{this._id}}" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Siguiente</span>
                </button>
                {{/if}}
                {{/if}}
            </div>
        {{else}}
            <img src="https://cdn-icons-png.flaticon.com/512/9402/9402212.png" alt="Sin imágenes disponibles" style="height: 18rem; object-fit: cover">
        {{/if}}
        <div class="card-body">
            <h5 class="card-title">{{this.title}}</h5>
            <p class="card-text">${{this.price}}</p>
            <a href="/product/{{this._id}}" class="btn btn-primary">+info</a>
        </div>
    </div>
    {{/each}}
</section>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script src="./index.js"></script>

<style>
    .carousel-control-prev-icon,
    .carousel-control-next-icon {
        filter: invert(0) sepia(0) saturate(100%) hue-rotate(0deg) brightness(0) contrast(100%);
        /* Cambia el color de los íconos a negro */
        transition: filter 0.2s ease-in-out; /* Transición suave */
    }

    .carousel-control-prev-icon:hover,
    .carousel-control-next-icon:hover {
        filter: invert(100%) sepia(100%) saturate(1000%) hue-rotate(180deg) brightness(100%) contrast(100%);
        /* Cambia el color de los íconos a blanco cuando se pasa el mouse por encima */
    }

    /* Asegura que los botones sean interactivos */
    .carousel-control-prev,
    .carousel-control-next {
        z-index: 10; /* Asegura que los botones estén por encima de las imágenes */
    }
</style>
